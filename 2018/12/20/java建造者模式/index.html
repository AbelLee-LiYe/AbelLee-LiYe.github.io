<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="Abel"><title>java建造者模式 · Abel Lee</title><meta name="description" content="建造者模式（Builder Pattern）使用多个简单的对象一步一步构建成一个复杂的对象。这种类型的设计模式属于创建型模式，它提供了一种创建对象的最佳方式。
一个 Builder 类会一步一步构造最终的对象。该 Builder 类是独立于其他对象的。
通过一个例子来演示代码：
比如我们要装修我"><meta name="keywords" content="Abel,Abel Lee,Abel Blog"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"><script src="/js/jquery.js"></script><meta name="generator" content="Hexo 4.2.1"></head><body><div class="main"><div class="full-page-top animated fadeInDown"><div class="nav"><li><a href="/">首页</a></li><li><a href="/archives">归档</a></li></div><div class="information"><div class="back_btn"><li><a class="fa fa-chevron-left" onclick="window.history.go(-1)"> </a></li></div></div></div><div class="autopagerize_page_element"><div class="full-content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>java建造者模式</a></h3></div><div class="post-content"><p>建造者模式（Builder Pattern）使用多个简单的对象一步一步构建成一个复杂的对象。这种类型的设计模式属于创建型模式，它提供了一种创建对象的最佳方式。</p>
<p>一个 Builder 类会一步一步构造最终的对象。该 Builder 类是独立于其他对象的。</p>
<p>通过一个例子来演示代码：</p>
<p>比如我们要装修我们的卧室和厨房。也就是组装卧室和厨房。</p>
<p>我们先创建两个类，一个表明家具，一个表明房间。</p>
<a id="more"></a>

<p>房间接口   </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Room</span></span>&#123;  </span><br><span class="line"> <span class="function">Sofa <span class="title">sofa</span><span class="params">()</span></span>;  </span><br><span class="line"> <span class="function">Knife <span class="title">knife</span><span class="params">()</span></span>;  </span><br><span class="line"> <span class="function">Bed <span class="title">bed</span><span class="params">()</span></span>;  </span><br><span class="line"> <span class="function">TV <span class="title">tv</span><span class="params">()</span></span>;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>家具接口  </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Furniture</span></span>&#123;  </span><br><span class="line"> <span class="function">String <span class="title">name</span><span class="params">()</span></span>;  </span><br><span class="line"> <span class="function">Room <span class="title">room</span><span class="params">()</span></span>;  </span><br><span class="line"> <span class="function">Integer <span class="title">price</span><span class="params">()</span></span>;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>房间建造接口  </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">RoomBuilder</span></span>&#123;  </span><br><span class="line"> <span class="function">Sofa <span class="title">buliderSofa</span><span class="params">()</span></span>;  </span><br><span class="line"> <span class="function">Knife <span class="title">buliderKnife</span><span class="params">()</span></span>;  </span><br><span class="line"> <span class="function">Bed <span class="title">buliderBed</span><span class="params">()</span></span>;  </span><br><span class="line"> <span class="function">TV <span class="title">buliderTV</span><span class="params">()</span></span>;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>房间装配接口  </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">RoomAssemble</span></span>&#123;  </span><br><span class="line"> <span class="function">Room <span class="title">roomBulder</span><span class="params">()</span></span>;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>房间建造实现类  </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RoomBuilderImpl</span> <span class="keyword">implements</span> <span class="title">RoomBuilder</span></span>&#123;  </span><br><span class="line">    </span><br><span class="line"> <span class="meta">@Override</span>  </span><br><span class="line"> <span class="function">Sofa <span class="title">sofa</span><span class="params">()</span></span>&#123;  </span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Sofa()&#123;  </span><br><span class="line"> ...  </span><br><span class="line"> &#125;  </span><br><span class="line"> &#125;;  </span><br><span class="line"> <span class="meta">@Override</span>  </span><br><span class="line"> <span class="function">Knife <span class="title">knife</span><span class="params">()</span></span>&#123;  </span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Knife()&#123;  </span><br><span class="line"> ...  </span><br><span class="line"> &#125;  </span><br><span class="line"> &#125;;  </span><br><span class="line"> <span class="meta">@Override</span>  </span><br><span class="line"> <span class="function">Bed <span class="title">bed</span><span class="params">()</span></span>&#123;  </span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Bed()&#123;  </span><br><span class="line"> ...  </span><br><span class="line"> &#125;  </span><br><span class="line"> &#125;;  </span><br><span class="line"> <span class="meta">@Override</span>  </span><br><span class="line"> <span class="function">TV <span class="title">tv</span><span class="params">()</span></span>&#123;  </span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> TV()&#123;  </span><br><span class="line"> ...  </span><br><span class="line"> &#125;  </span><br><span class="line"> &#125;;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>房间装配实现类  </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> RoomAssembleImpl implements RoomAssemble&#123;  </span><br><span class="line">  </span><br><span class="line"> <span class="keyword">private</span> RoomBuilder builder;  </span><br><span class="line">  </span><br><span class="line"> <span class="meta">@Override</span>  </span><br><span class="line"> <span class="function"><span class="keyword">public</span> Room <span class="title">roomBulder</span><span class="params">()</span></span>&#123;  </span><br><span class="line"> Sofa sofa = builder.builderSofa();  </span><br><span class="line"> Knife knife = builder.buliderKnife();  </span><br><span class="line"> Bed bed = builder.builderBed();  </span><br><span class="line"> TV tv = builder.builderTV();  </span><br><span class="line">  </span><br><span class="line"> Room room = <span class="keyword">new</span> Room();  </span><br><span class="line">  </span><br><span class="line"> room.setSofa(sofa);  </span><br><span class="line"> room.setKnife(knife);  </span><br><span class="line"> room.setBed(bed);  </span><br><span class="line"> room.setTV(tv);  </span><br><span class="line">  </span><br><span class="line"> <span class="keyword">return</span> room;  </span><br><span class="line"> &#125;;  </span><br><span class="line">  </span><br><span class="line"> ...构造器  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>家具类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Sofa</span> <span class="keyword">implements</span> <span class="title">Furniture</span></span>&#123;  </span><br><span class="line">    </span><br><span class="line"> <span class="meta">@Override</span>  </span><br><span class="line"> <span class="function">String <span class="title">name</span><span class="params">()</span></span>&#123;  </span><br><span class="line">    <span class="keyword">return</span> <span class="string">"沙发"</span>;  </span><br><span class="line"> &#125;;  </span><br><span class="line">  </span><br><span class="line"> <span class="meta">@Override</span>  </span><br><span class="line"> <span class="function">Room <span class="title">room</span><span class="params">()</span></span>&#123;  </span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Bedroom();  </span><br><span class="line"> &#125;;  </span><br><span class="line">  </span><br><span class="line"> <span class="meta">@Override</span>  </span><br><span class="line"> <span class="function">Interger <span class="title">price</span><span class="params">()</span></span>&#123;  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">3000</span>;  </span><br><span class="line"> &#125;;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TV</span> <span class="keyword">implements</span> <span class="title">Furniture</span></span>&#123;  </span><br><span class="line">    </span><br><span class="line"> <span class="meta">@Override</span>  </span><br><span class="line"> <span class="function">String <span class="title">name</span><span class="params">()</span></span>&#123;  </span><br><span class="line">    <span class="keyword">return</span> <span class="string">"电视"</span>;  </span><br><span class="line"> &#125;;  </span><br><span class="line">  </span><br><span class="line"> <span class="meta">@Override</span>  </span><br><span class="line"> <span class="function">Room <span class="title">room</span><span class="params">()</span></span>&#123;  </span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Bedroom();  </span><br><span class="line"> &#125;;  </span><br><span class="line">  </span><br><span class="line"> <span class="meta">@Override</span>  </span><br><span class="line"> <span class="function">Interger <span class="title">price</span><span class="params">()</span></span>&#123;  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">8000</span>;  </span><br><span class="line"> &#125;;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Bed</span> <span class="keyword">implements</span> <span class="title">Furniture</span></span>&#123;  </span><br><span class="line">    </span><br><span class="line"> <span class="meta">@Override</span>  </span><br><span class="line"> <span class="function">String <span class="title">name</span><span class="params">()</span></span>&#123;  </span><br><span class="line">    <span class="keyword">return</span> <span class="string">"床"</span>;  </span><br><span class="line"> &#125;;  </span><br><span class="line">  </span><br><span class="line"> <span class="meta">@Override</span>  </span><br><span class="line"> <span class="function">Room <span class="title">room</span><span class="params">()</span></span>&#123;  </span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Bedroom();  </span><br><span class="line"> &#125;;  </span><br><span class="line">  </span><br><span class="line"> <span class="meta">@Override</span>  </span><br><span class="line"> <span class="function">Interger <span class="title">price</span><span class="params">()</span></span>&#123;  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">120000</span>;  </span><br><span class="line"> &#125;;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">knife</span> <span class="keyword">implements</span> <span class="title">Furniture</span></span>&#123;  </span><br><span class="line">    </span><br><span class="line"> <span class="meta">@Override</span>  </span><br><span class="line"> <span class="function">String <span class="title">name</span><span class="params">()</span></span>&#123;  </span><br><span class="line">    <span class="keyword">return</span> <span class="string">"刀"</span>;  </span><br><span class="line"> &#125;;  </span><br><span class="line">  </span><br><span class="line"> <span class="meta">@Override</span>  </span><br><span class="line"> <span class="function">Room <span class="title">room</span><span class="params">()</span></span>&#123;  </span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Kitchen();  </span><br><span class="line"> &#125;;  </span><br><span class="line">  </span><br><span class="line"> <span class="meta">@Override</span>  </span><br><span class="line"> <span class="function">Interger <span class="title">price</span><span class="params">()</span></span>&#123;  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">100</span>;  </span><br><span class="line"> &#125;;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>以上就结束了。<br>我在例子上把能装配的都装配了，然后装配只进行了一层装配，比较简单。<br>你也可以只装配几个家具来组装不同的房间，这就是建造者模式的意义。自定义构建你想要的整体。</p>
<p>你也可以选择我下面的扩展代码，装配个房子，先把家具塞进房间，然后再将你选择的不同的房间装配进房子，来构造各式各样的房子。</p>
<p>实现room接口</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Kitchen</span> <span class="keyword">implements</span> <span class="title">room</span></span>&#123;  </span><br><span class="line">    </span><br><span class="line"> <span class="meta">@Override</span>  </span><br><span class="line"> <span class="function">String <span class="title">name</span><span class="params">()</span></span>&#123;  </span><br><span class="line">    <span class="keyword">return</span> <span class="string">"厨房"</span>;  </span><br><span class="line"> &#125;;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Bedroom</span> <span class="keyword">implements</span> <span class="title">room</span></span>&#123;  </span><br><span class="line">    </span><br><span class="line"> <span class="meta">@Override</span>  </span><br><span class="line"> <span class="function">String <span class="title">name</span><span class="params">()</span></span>&#123;  </span><br><span class="line">    <span class="keyword">return</span> <span class="string">"卧室"</span>;  </span><br><span class="line"> &#125;;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>实现Furniture接口</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Oven</span> <span class="keyword">implements</span> <span class="title">Furniture</span></span>&#123;  </span><br><span class="line">    </span><br><span class="line"> <span class="meta">@Override</span>  </span><br><span class="line"> <span class="function">String <span class="title">name</span><span class="params">()</span></span>&#123;  </span><br><span class="line">    <span class="keyword">return</span> <span class="string">"烤箱"</span>;  </span><br><span class="line"> &#125;;  </span><br><span class="line">  </span><br><span class="line"> <span class="meta">@Override</span>  </span><br><span class="line"> <span class="function">Room <span class="title">room</span><span class="params">()</span></span>&#123;  </span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Kitchen();  </span><br><span class="line"> &#125;;  </span><br><span class="line">  </span><br><span class="line"> <span class="meta">@Override</span>  </span><br><span class="line"> <span class="function">Interger <span class="title">price</span><span class="params">()</span></span>&#123;  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">500</span>;  </span><br><span class="line"> &#125;;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Pan</span> <span class="keyword">implements</span> <span class="title">Furniture</span></span>&#123;  </span><br><span class="line">    </span><br><span class="line"> <span class="meta">@Override</span>  </span><br><span class="line"> <span class="function">String <span class="title">name</span><span class="params">()</span></span>&#123;  </span><br><span class="line">    <span class="keyword">return</span> <span class="string">"平底锅"</span>;  </span><br><span class="line"> &#125;;  </span><br><span class="line">  </span><br><span class="line"> <span class="meta">@Override</span>  </span><br><span class="line"> <span class="function">Room <span class="title">room</span><span class="params">()</span></span>&#123;  </span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Kitchen();  </span><br><span class="line"> &#125;;  </span><br><span class="line">  </span><br><span class="line"> <span class="meta">@Override</span>  </span><br><span class="line"> <span class="function">Interger <span class="title">price</span><span class="params">()</span></span>&#123;  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">200</span>;  </span><br><span class="line"> &#125;;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2018-12-20</span><i class="fa fa-tag"></i><span class="leancloud_visitors"></span></div></div></div></div><div class="pagination"><ul class="clearfix"><li class="pre pagbuttons"><a class="btn" role="navigation" href="/2018/12/20/spring%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="spring学习笔记">上一篇</a></li><li class="next pagbuttons"><a class="btn" role="navigation" href="/2018/12/20/java%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/" title="java工厂模式">下一篇</a></li></ul></div><script src="/js/visitors.js"></script></div></div></div></div><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script><script src="/js/add-bookmark.js"></script><script src="/js/baidu-tongji.js"></script></body></html>